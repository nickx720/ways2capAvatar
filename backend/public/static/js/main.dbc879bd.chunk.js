(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n(0),r=n.n(c),o=n(19),i=n.n(o),s=(n(68),n.p,n(69),n(17)),l=n(8),d=n(128),j=n(131),u=n(130),b=n(129),h=n(125),m=n(127),p=n(79),g=n(118),f=n(126),O=n(53),x=n.n(O),v=n(121),y=n(123),C=Object(g.a)((function(e){return{icon:{marginRight:e.spacing(2)}}})),S=function(){var e=C();return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsx)(v.a,{position:"relative",children:Object(a.jsxs)(y.a,{children:[Object(a.jsx)(x.a,{className:e.icon}),Object(a.jsx)(p.a,{variant:"h6",color:"inherit",noWrap:!0,children:"User Profile"})]})})})},w=n(124);function F(){return Object(a.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(w.a,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var N=Object(g.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}})),k=function(){var e=N();return Object(a.jsx)(r.a.Fragment,{children:Object(a.jsxs)("footer",{className:e.footer,children:[Object(a.jsx)(p.a,{variant:"h6",align:"center",gutterBottom:!0,children:"Footer"}),Object(a.jsx)(p.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"Avatar Maker"}),Object(a.jsx)(F,{})]})})},D=function(e,t){console.log(t);var n=new FormData;for(var a in t)n.append(a,t[a]);return fetch("http://localhost:4000/users/".concat(e),{method:"Post",body:n})},B=n(10),I=n(133),L=n(134),P=n(132),E=n(136);function M(){return Math.round(20*Math.random())-10}function U(){var e=50+M(),t=50+M();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var T=Object(g.a)((function(e){return{paper:{position:"absolute",width:"50%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},root:{"& > *":{margin:e.spacing(1),width:"100%",display:"flex",flexDirection:"column"}},formSubmit:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",padding:"5px"}}})),z=function(e){var t=Object(s.a)({},e.user),n=t.id,c=t.name,o=T(),i=r.a.useState(U),d=Object(l.a)(i,1)[0],j=r.a.useState(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=r.a.useState(!1),p=Object(l.a)(m,2),g=p[0],f=p[1],O=r.a.useState({name:"",email:"",images:""}),x=Object(l.a)(O,2),v=x[0],y=x[1],C=function(){h(!1)},S=function(e){return function(t){var n=t.target,a=n.value,c=n.files;y((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(B.a)({},e,a.includes("\\")?c[0]:a))}))}},w=Object(a.jsxs)("div",{style:d,className:o.paper,children:[Object(a.jsxs)("h2",{id:"simple-modal-title",children:["Update Profile Info for ",c]}),Object(a.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),console.log(navigator.onLine),navigator.onLine)D(n,v).then((function(e){return C()})).catch((function(e){return console.log(e)}));else{f(!0);var t=new FileReader;t.addEventListener("load",(function(){localStorage.setItem(n,JSON.stringify(Object(s.a)(Object(s.a)({},v),{},{images:t.result})));var e=JSON.parse(localStorage.getItem(n)),a=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],c=atob(n[1]),r=c.length,o=new Uint8Array(r);r--;)o[r]=c.charCodeAt(r);return new File([o],t,{type:a})}(e.images),c=setInterval((function(){navigator.onLine&&(D(n,Object(s.a)(Object(s.a)({},e),{},{images:a})).then((function(e){return C()})).catch((function(e){return console.log(e)})),clearInterval(c))}),1e3)}),!1),t.readAsDataURL(v.images)}},className:o.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(P.a,{id:"name",label:"Name",value:v.name,onChange:S("name")}),Object(a.jsx)(P.a,{id:"email",label:"Email",value:v.email,onChange:S("email")}),Object(a.jsx)("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:S("images")}),Object(a.jsx)("label",{htmlFor:"raised-button-file",children:Object(a.jsx)(L.a,{component:"span",children:"Upload"})}),Object(a.jsxs)("div",{className:o.formSubmit,children:[Object(a.jsx)(L.a,{size:"small",color:"primary",type:"submit",children:"Save"}),Object(a.jsx)(L.a,{size:"small",color:"secondary",onClick:C,children:"Close"})]})]})]});return Object(a.jsxs)("div",{children:[Object(a.jsx)(L.a,{size:"small",color:"primary",onClick:function(){h(!0)},children:"Edit"}),Object(a.jsx)(I.a,{open:b,onClose:C,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:w}),Object(a.jsx)(E.a,{open:g,autoHideDuration:6e3,anchorOrigin:{vertical:"top",horizontal:"center"},message:"You are offline,your update will be synced once you are online"})]})},A=Object(g.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}})),J=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],i=A();return Object(c.useEffect)((function(){fetch("http://localhost:4000/users").then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then(o)}),[]),Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)(h.a,{}),Object(a.jsx)(S,{}),Object(a.jsxs)("main",{children:[Object(a.jsx)("div",{className:i.heroContent,children:Object(a.jsxs)(f.a,{maxWidth:"sm",children:[Object(a.jsx)(p.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"Profile Updater"}),Object(a.jsx)(p.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Click on Edit and Have a cool avatar \ud83d\ude0e"})]})}),Object(a.jsx)(f.a,{className:i.cardGrid,maxWidth:"md",children:Object(a.jsx)(m.a,{container:!0,spacing:4,children:n.map((function(e){return Object(a.jsx)(m.a,{item:!0,xs:12,sm:6,md:4,children:Object(a.jsxs)(d.a,{className:i.card,children:[Object(a.jsx)(b.a,{className:i.cardMedia,image:e.avatar||"https://cdn.iconscout.com/icon/free/png-256/avatar-372-456324.png",title:e.name}),Object(a.jsxs)(u.a,{className:i.cardContent,children:[Object(a.jsx)(p.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object(a.jsx)(p.a,{children:e.email})]}),Object(a.jsx)(j.a,{children:Object(a.jsx)(z,{user:Object(s.a)({},e)})})]})},e.id)}))})})]}),Object(a.jsx)(k,{})]})};var R=function(){return Object(a.jsx)(J,{})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,137)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(R,{})}),document.getElementById("root")),W()}},[[77,1,2]]]);
//# sourceMappingURL=main.dbc879bd.chunk.js.map